<!-- @format -->

<script>
  import {setContext} from 'svelte'
  import Router from 'svelte-spa-router'
  import {Contract} from 'etleneum'

  import {NAME, CONTRACT} from './constants'
  import Index from './Index.html'
  import Account from './Account.html'
  import Banner from './Banner.html'
  import Foot from '../../components/Footer.html'
  import kbAccountStore from '../../components/kbAccountStore'

  setContext('contract', Contract(CONTRACT))
  setContext('kbaccounts', kbAccountStore)

  const routes = {
    '/': Index,
    '/account': Account,
    '/:banner_id': Banner
  }
</script>

<style>
  h1 {
    color: var(--emphasis-rare);
  }
  main {
    margin: 43px auto;
  }
  h1 a {
    text-decoration: none;
    color: inherit;
  }
  footer {
    width: 100%;
    margin-top: 180px;
    padding-top: 18px;
    font-size: 0.9rem;
  }
  footer a {
    color: var(--emphasis-rare);
  }
</style>

<main>
  <div>
    <h1><a href="#/">{NAME}</a></h1>
    <Router {routes} />
  </div>
</main>
<Foot name="{NAME}" contract="{CONTRACT}" />
